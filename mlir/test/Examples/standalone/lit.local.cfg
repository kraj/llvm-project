# Disable with sanitizers for now, this require some more setup apparently.
for san in ["asan", "msan", "ubsan"]:
    if san in config.available_features:
        config.unsupported = True

config.substitutions.append(("%cmake_exe", config.host_cmake))
config.substitutions.append(("%cmake_generator", config.host_cmake_generator))
config.substitutions.append(("%host_cxx", config.host_cxx))
config.substitutions.append(("%host_cc", config.host_cc))
config.substitutions.append(("%enable_libcxx", config.enable_libcxx))
config.substitutions.append(("%mlir_cmake_dir", config.mlir_cmake_dir))
config.substitutions.append(("%llvm_use_linker", config.llvm_use_linker))
config.substitutions.append(("%llvm_obj_root", config.llvm_obj_root))
config.substitutions.append(("%llvm_src_root", config.llvm_src_root))
config.substitutions.append(("%host_cmake_install_prefix", config.host_cmake_install_prefix))
config.substitutions.append(("%cmake_build_type", config.cmake_build_type))
config.substitutions.append(("%cmake_c_compiler_launcher", config.cmake_c_compiler_launcher))
config.substitutions.append(("%cmake_cxx_compiler_launcher", config.cmake_cxx_compiler_launcher))

# see https://github.com/llvm/llvm-project/blob/57782eff31e9d454b54a201c7ac43dc1b93dbb3f/llvm/utils/lit/lit/TestRunner.py#L1858
config.substitutions.insert(0, ("FileCheck", "FileChuck"))
config.substitutions.insert(0, ("count", "kount"))
config.substitutions.insert(0, ("not", "mot"))
config.substitutions.append(("kount", "count"))
config.substitutions.append(("mot", "not"))
config.substitutions.append(("FileChuck", "FileCheck"))
