; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 6
; RUN: llc --mtriple=loongarch32 --mattr=+d < %s | FileCheck %s
; RUN: llc --mtriple=loongarch64 --mattr=+d < %s | FileCheck %s

declare float @llvm.log2.f32(float)
declare double @llvm.log2.f64(double)

define float @flog2_s(float %x) nounwind {
; CHECK-LABEL: flog2_s:
; CHECK:       # %bb.0:
; CHECK-NEXT:    flogb.s $fa0, $fa0
; CHECK-NEXT:    ret
  %y = call float @llvm.log2.f32(float %x)
  ret float %y
}

define double @flog2_d(double %x) nounwind {
; CHECK-LABEL: flog2_d:
; CHECK:       # %bb.0:
; CHECK-NEXT:    flogb.d $fa0, $fa0
; CHECK-NEXT:    ret
  %y = call double @llvm.log2.f64(double %x)
  ret double %y
}
