if "AArch64" not in config.root.targets:
    config.unsupported = True

# -Wl,--no-relax prevents converting ADRP+ADD pairs into NOP+ADR.
flags = "--target=aarch64-linux-gnu -nostartfiles -nostdlib -ffreestanding -Wl,--no-relax"

config.substitutions.insert(0, ("%cflags", f"%cflags {flags}"))
config.substitutions.insert(0, ("%cxxflags", f"%cxxflags {flags}"))
